<div class="ponto-container">
  <div class="ponto-header">
    <h1 class="ponto-title">Registro de Pontos</h1>
    <div class="ponto-actions">
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Buscar por nome ou CPF" [(ngModel)]="searchTerm" />
      </div>

      <div class="ponto-filtros">
        <input type="date" class="date-picker" [(ngModel)]="selectedDate" />
        <select class="filter-dropdown" [(ngModel)]="selectedEmpresa">
          <option [ngValue]="null">Todas as empresas</option>
          <option *ngFor="let empresa of empresas" [value]="empresa.id">
            {{ empresa.nome }}
          </option>
        </select>
        
        <div class="filter-actions">      
          <button class="download-btn" (click)="toggleDownloadOptions()">
            <span class="icon-download"></span> 
            Download Relatório
          </button>
  
          <div *ngIf="showDownloadOptions" class="download-options">
            <button (click)="downloadCSV()">Download CSV</button>
            <button (click)="downloadPDF()">Download PDF</button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <table class="attendance-table">
    <thead>
      <tr>
        <th>Funcionário</th>
        <th>CPF</th>
        <th>Empresa</th>
        <th>Data</th>
        <th>Entrada</th>
        <th>Saída</th>
        <th>Tempo Total</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let registro of registrosFiltrados">
        <td>{{ getNomeColaborador(registro.colaboradorId) }}</td>
        <td>{{ getCpfColaborador(registro.colaboradorId) }}</td>
        <td>{{ getNomeEmpresa(registro.empresaId) }}</td>
        <td>{{ registro.data }}</td>
        <td>{{ registro.horaEntrada }}</td>
        <td>{{ registro.horaSaida }}</td>
        <td>{{ registro.tempoTotal }}</td>
        <td><button class="editar-btn">Editar</button></td>
      </tr>
    </tbody>
  </table>
</div>
