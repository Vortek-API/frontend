<div class="container modal-cadastro">
  <div class="cadastro-content">
    <h3>Gerenciar Colaborador</h3>
    <div class="form-group">
      <label>Foto do colaborador</label>
      <div class="avatar" *ngIf="imagemPreview; else noImage">
        <img [src]="imagemPreview" alt="Foto do colaborador" class="avatar-img" style="max-width: 120px; max-height: 120px;" />
        <div class="avatar-actions">
          <button type="button" class="btn btn-sm btn-secondary" (click)="fileInput.click()">Alterar</button>
          <button type="button" class="btn btn-sm btn-danger" (click)="removerImagem()">Remover</button>
        </div>
      </div>
    
      <ng-template #noImage>
        <p>Nenhuma foto enviada.</p>
        <button type="button" class="btn btn-sm btn-primary" (click)="fileInput.click()">Adicionar Foto</button>
      </ng-template>
    
      <input 
        type="file" 
        #fileInput 
        style="display: none"
        accept="image/*" 
        (change)="onFileSelected($event)"
      />
    </div>
    
    <form>
      <div class="form-group">
        <label for="cpf">CPF</label>
        <input type="text" id="cpf" [(ngModel)]="colaborador.cpf" name="cpf" mask="000.000.000-00">
      </div>
      
      <div class="form-group">
        <label for="nome">Nome</label>
        <input type="text" id="nome" [(ngModel)]="colaborador.nome" name="nome">
      </div>
      
      <div class="form-group">
        <label for="cargo">Cargo</label>
        <input type="text" id="cargo" [(ngModel)]="colaborador.cargo" name="cargo">
      </div>

      <div class="form-group">
        <label for="horarioEntrada">Hora de entrada</label>
        <input type="text" id="horarioEntrada" [(ngModel)]="colaborador.horarioEntrada" name="horarioEntrada">
      </div>

      <div class="form-group">
        <label for="horarioSaida">Hora de sa√≠da</label>
        <input type="text" id="horarioSaida" [(ngModel)]="colaborador.horarioSaida" name="horarioSaida">
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill">
          <mat-label for="empresa">Empresas</mat-label>
          <mat-select 
            id="empresa" 
            name="empresa" 
            [(ngModel)]="colaborador.empresas" 
            multiple 
            required
            class="form-control"
            #empresa="ngModel">
              <mat-option *ngFor="let empresa of empresas" [value]="empresa">
                {{ empresa.nome }}
              </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      
      

      <div class="form-group">
        <label for="statusAtivo">Status</label>
        <select id="statusAtivo" [(ngModel)]="colaborador.statusAtivo" name="statusAtivo">
          <option [ngValue]="true">Ativo</option>
          <option [ngValue]="false">Inativo</option>
        </select>
      </div>
    </form>
    
    <div class="actions">
      <button class="btn-primary" (click)="save()">Ok</button>
      <button class="btn-secondary" (click)="deletar()">Deletar</button>
      <button class="btn-cancel" (click)="close()">Cancelar</button>
    </div>
  </div>
</div>
