<div class="container">
    <div class="header-actions">

        <div class="right-controls">
            <h1 id="titleFunc">Colaboradores</h1>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Buscar" [(ngModel)]="searchTerm" required>
                <span class="search-icon">
                    <img src="assets/icons/personsearch.svg" alt="Ícone de busca" >
                </span>
            </div>
        </div>
    
      
        <div class="left-controls">
            <input *ngIf="ordenacao=='cadastro'" type="date" class="date-picker" [(ngModel)]="selectedDate">
            <div class="ordenar-container">
                <select class="ordenar-btn" [(ngModel)]="ordenacao" (change)="handleOrdenacaoChange()">
                    <option *ngIf="!ordenacao" [ngValue]="null">Ordenar por</option>
                    <option *ngIf="ordenacao" [ngValue]="null">Limpar filtros</option>
                    <option [ngValue]="'alfab'">Alfabética</option>
                    <option [ngValue]="'cadastro'">Data de cadastro</option>
                    <option [ngValue]="'ativo'">Status Ativo</option>
                    <option [ngValue]="'inativo'">Status Inativo</option>
                </select>
            </div>
    
            <select class="filter-dropdown" [(ngModel)]="selectedEmpresa">
                <option [ngValue]="null">Todas</option>
                <option *ngFor="let empresa of empresas" [value]="empresa.id">
                  {{ empresa.nome }}
                </option>
            </select>
            
            <button class="add-employee-btn" (click)='abrirModalCadastro()'>+ Colaborador</button>
        </div>       
    </div>

    <div class="table-wrapper">
    <table class="attendance-table">
        <thead>
            <tr>
                <th>CPF</th>
                <th>Colaborador</th>
                <th>Cargo</th>
                <!-- <th>Empresa</th> -->
                <!-- <th>Data</th> -->
                <th>Status</th>
                <th>Entrada</th>
                <th>Saída</th>
                <!-- <th>Horas trabalhadas</th> -->
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let colaborador of colaboradoesFiltrados | paginate: { itemsPerPage: itensPorPagina, currentPage: paginaAtual }">
                <tr *ngIf="selectedEmpresa == null || selectedEmpresa == colaborador.empresas?.[0]?.id" 
                (click)="clickRow(colaborador)" 
                style="cursor: pointer;">
                <td>{{colaborador.cpf}}</td>
                <td>{{colaborador.nome}}</td>
                <td>{{colaborador.cargo}}</td>
                <!-- <td>{{colaborador.empresa.nome}}</td> -->
                <td [ngClass]="colaborador.statusAtivo ? 'status ativo' : 'status inativo'">
                    {{ colaborador.statusAtivo ? "Ativo" : "Inativo" }}
                </td>
                  
                <td>{{ colaborador.horarioEntrada}}</td>
                <td>{{ colaborador.horarioSaida }}</td>
            </tr>            
            </ng-container>
          </tbody>          
    </table>

    <!-- Paginação -->
    <div class="pagination-wrapper" *ngIf="colaboradoesFiltrados.length > itensPorPagina">
      <pagination-controls
        (pageChange)="paginaAtual = $event"
        [responsive]="true"
        previousLabel="Anterior"
        nextLabel="Próxima"
        [autoHide]="true">
      </pagination-controls>
    </div>
    </div>
</div>

<div class="modal-colab-crud">