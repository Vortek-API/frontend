<div class="container">
  <div class="header-actions">
    <div class="right-controls">
      <h1 id="titleRelatorios">Relatórios</h1>
    </div>

    <div class="left-controls">
      <input type="date" class="date-picker" [(ngModel)]="filtros.dataInicio" (ngModelChange)="onFiltroChange()" />
      <input type="date" class="date-picker" [(ngModel)]="filtros.dataFim" (ngModelChange)="onFiltroChange()" />

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Empresas</mat-label>
        <mat-select [(ngModel)]="selectedEmpresas" multiple (ngModelChange)="onFiltroChange()" placeholder="Selecione"
          panelClass="empresas-select-panel">

          <mat-option *ngFor="let empresa of empresas" [value]="empresa.id">
            {{ empresa.nome }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <select class="filter-dropdown" [(ngModel)]="tipoGrafico" (ngModelChange)="onFiltroChange()">
        <option [ngValue]="'bar'">Barraㅤ</option>
        <option [ngValue]="'pie'">Pizzaㅤ</option>
        <option [ngValue]="'line'">Linhaㅤ</option>
      </select>

      <button class="add-employee-btn" (click)="limparFiltros()">Limpar Filtros</button>
      
    </div>
  </div>

  <div class="section-title">
    <h2>Indicadores</h2>
  </div>

  <div class="charts-container" *ngIf="!carregandoHorasEmpresa && horasEmpresaBarChartOptions">
    <div echarts [options]="horasEmpresaBarChartOptions" class="chart-box"></div>
    <div echarts [options]="colaboradoresBarChartOptions" class="chart-box"></div>
  </div>

  <div class="loading-container" *ngIf="carregandoHorasEmpresa">
    <div class="spinner"></div>
    <p>Carregando dados...</p>
  </div>
</div>